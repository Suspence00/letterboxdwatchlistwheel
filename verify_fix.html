<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Verification Test</title>
</head>

<body>
    <div id="result">Running...</div>
    <script>
        // Copy of the function from js/utils.js
        function decodeHtmlEntities(text) {
            if (!text) return '';
            const doc = new DOMParser().parseFromString(text, 'text/html');
            return doc.documentElement.textContent;
        }

        const input = "A&quot; Nightmare on Elm Street Part 2: Freddy&#039;s Revenge";
        const expected = "A\" Nightmare on Elm Street Part 2: Freddy's Revenge";
        const output = decodeHtmlEntities(input);

        const resultDiv = document.getElementById('result');
        if (output === expected) {
            resultDiv.textContent = 'PASS: ' + output;
            resultDiv.style.color = 'green';
        } else {
            resultDiv.textContent = 'FAIL: Expected "' + expected + '", got "' + output + '"';
            resultDiv.style.color = 'red';
        }
    </script>
</body>

</html>